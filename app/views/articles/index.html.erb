<% if notice %>
  <div class="alert alert-info text-center" role="alert">
    <%= notice %>
  </div>
<% end %>

<% if @articles.length == 0 %>
  <div class="alert alert-info text-center" role="alert">
    <%= "No Articles to Show" %>
  </div>
<% end %>

<div class="container text-center">

  <h1 class="display-4 text-center mt-30 main-heading">Articles</h1>

  <table class="table table-striped">
    <thead class="thead-dark">
      <tr>
      <th scope="col">#</th>
        <th scope="col">Title</th>
        <th scope="col">Body</th>
        <th scope="col" colspan="3">Actions</th>
        <th scope="col">Last Updated</th>
      </tr>
    </thead>

    <tbody>
      <% @articles.each_with_index do |article, i| %>
        <tr>
          <th scope="row"><%= i + 1 %></th>
          <% if article.title.length > 30 %>
            <td><%= article.title[0..28] + "..." %></td>
          <% else %>
            <td><%= article.title %></td>
          <% end %>
          <% if article.body.length > 30 %>
            <td><%= article.body[0..28] + "..." %></td>
          <% else %>
            <td><%= article.body %></td>
          <% end %>
          <td><%= link_to 'Show', article %></td>
          <td><%= link_to 'Edit', edit_article_path(article) %></td>
          <td><%= link_to 'Destroy', article, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <td><%= article.updated_at.strftime("%d/%m/%Y %I:%M %p") %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <%= link_to 'New Article', new_article_path, class: "btn btn-primary" %>
</div>

